<div {...$$restProps}
     class="{$$restProps.class ?? ''} content margin"
     class:content--active={active}
     aria-hidden={!active}>
  {#if $$slots.header}
    <div bind:this={header}
         style="display: none">
      <slot name="header" />
    </div>
  {/if}
  <slot />
</div>

<script >import { onMount, getContext } from 'svelte';
;
export let label;
const key = {};
let active = false;
let header;
$: if (header) {
    header.firstChild
        .removeAttribute('slot');
}
const tabsData = getContext('tabs');
$: tabsData.tabs.update(tabs => (tabs.map(t => t.key === key ? Object.assign(Object.assign({}, t), { label, header }) : t)));
onMount(() => {
    tabsData.tabs.update(tabs => [...tabs, {
            key,
            label,
            header,
            show: () => active = true,
            hide: () => active = false,
        }
    ]);
});
</script>

<style>
.content--active {
  display: block !important;
}
</style>
